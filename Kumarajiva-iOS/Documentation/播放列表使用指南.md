# 播放列表使用指南

## 快速开始

### 1. 打开播放列表
当有播客或视频正在播放时，在屏幕底部会出现 MiniPlayer：

```
┌─────────────────────────────────────────────┐
│  Episode Title                              │
│  正在播放                    📄 ⏸️ ⏹️    │
└─────────────────────────────────────────────┘
```

点击 **📄 (list.bullet)** 图标打开播放列表。

### 2. 播放列表界面

#### 空状态
如果还没有播放记录，会看到：
```
🎵
播放列表为空
播放的播客和视频会自动添加到这里
💡 小贴士：播放记录会包含播放进度，方便你随时继续收听
```

#### 有播放记录时
```
┌─────── 播放列表 ────────────────────────────┐
│ 关闭                               ▶️ 清空 │
├────────────────────────────────────────────┤
│                最近播放 3个项目               │
│                                           │
│ 🟦 Episode abcd1234...                    │
│    🔵 播放中   7:30 / 30:00 (25%)         │
│    上次播放: 1小时前                        │
│    ▓▓▓░░░░░░░                      ⏸️    │
│                                           │
│ ✅ Episode efgh5678...                    │
│    🟢 已完成   45:00 / 45:00 (100%)       │
│    上次播放: 2小时前                        │
│    ▓▓▓▓▓▓▓▓▓▓                      ▶️    │
│                                           │
│ ⚫ Episode ijkl9012...                    │
│    ⚪ 未播放   0:00 / 15:00 (0%)          │
│    上次播放: 昨天                          │
│    ░░░░░░░░░░                      ▶️    │
└────────────────────────────────────────────┘
```

## 🆕 直接播放功能

### 基本操作
1. **智能播放控制**：
   - 点击任意记录右侧的播放按钮
   - 系统会自动判断播放状态并采取相应操作

2. **播放状态说明**：
   - ⏸️ **当前播放中**：点击暂停当前播放
   - ▶️ **当前节目已暂停**：点击恢复播放
   - ⭕ **其他历史记录**：点击切换到该节目并开始播放

### 自动功能
- **位置恢复**：自动跳转到上次播放的时间位置
- **智能切换**：如果切换到不同节目，播放列表会自动关闭
- **加载反馈**：显示加载动画，防止重复点击

### 使用示例

#### 场景1：恢复当前节目播放
```
当前播放: Episode A (已暂停)
操作: 点击 Episode A 的播放按钮
结果: 立即恢复播放 Episode A
```

#### 场景2：切换到历史节目（RSS播客）
```
当前播放: Episode A 
操作: 点击 Episode B 的播放按钮 (B播放到15分钟)
结果: 
1. 停止 Episode A
2. 加载 Episode B
3. 跳转到 15分钟位置
4. 开始播放 Episode B
5. 播放列表自动关闭
```

#### 🆕 场景3：切换到YouTube视频
```
当前播放: RSS播客 Episode A
操作: 点击 YouTube视频记录 (视频ID: yHzfc1Ih7jw)
结果:
1. 停止当前播客
2. 检查视频信息和音频缓存
3. 显示"正在加载YouTube音频..."
4. 重新提取音频流（如需要）
5. 跳转到上次播放位置
6. 开始播放视频音频
7. 播放列表自动关闭
```

#### 🆕 场景4：YouTube音频加载失败
```
操作: 点击YouTube视频播放按钮
可能原因: 网络问题、视频已删除、服务器错误
显示: "无法加载该YouTube视频的音频，请稍后重试"
解决方案: 检查网络连接，稍后重试
```

## 播放列表管理

### 删除操作
1. **单个删除**：
   - 向左滑动任意记录
   - 点击红色"删除"按钮

2. **批量清空**：
   - 点击右上角"清空"按钮
   - 确认对话框中选择"清空"

### 播放全部
- 点击右上角的 ▶️ 按钮
- 从列表第一个记录开始播放
- 播放列表自动关闭

### 排序规则
- 按**最后播放时间**倒序排列
- 最近播放的记录显示在顶部
- 实时更新排序顺序

## 状态指示器

### 播放状态图标
- 🟦 **播放中** - 当前正在播放的节目
- 🟢 **已完成** - 播放进度达到100%
- ⚫ **未播放** - 播放进度为0%

### 进度条颜色
- 🔵 **蓝色** - 播放中
- 🟢 **绿色** - 已完成
- ⚪ **灰色** - 未播放

### 播放按钮状态
- ⏸️ **暂停图标** - 当前播放中，点击暂停
- ▶️ **播放图标** - 可以播放，点击开始/恢复
- 🔄 **加载动画** - 正在加载中，请稍候

## 高级功能

### 下拉刷新
- 向下拉动列表刷新播放记录
- 同步最新的播放状态

### 智能识别
- 自动识别Episode标题（如果可获取）
- 显示简化的Episode ID（如果无法获取完整信息）

### 错误处理
- 如果Episode已被删除，显示友好提示
- 网络错误时提供重试选项

## 快捷操作

### 键盘快捷键（未来版本）
- `Space` - 播放/暂停当前节目
- `↑/↓` - 选择上/下一个记录
- `Enter` - 播放选中的记录
- `Delete` - 删除选中的记录

### 手势操作
- **左滑** - 删除记录
- **下拉** - 刷新列表
- **点击** - 播放/暂停

## 故障排除

### 常见问题

1. **播放按钮无响应**
   - 检查网络连接
   - 确认Episode未被删除
   - 重启应用

2. **无法跳转到播放位置**
   - 等待音频加载完成
   - 检查播放记录是否有效

3. **播放列表不更新**
   - 下拉刷新列表
   - 重新打开播放列表

### 性能提示
- 定期清理不需要的播放记录
- 避免同时播放多个音频源
- 保持良好的网络连接

## 数据安全

### 本地存储
- 播放记录保存在设备本地
- 不会上传到服务器
- 卸载应用会丢失记录

### 隐私保护
- 只记录播放进度信息
- 不记录具体播放内容
- 符合用户隐私保护原则 